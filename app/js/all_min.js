function load(e,t,a){var l=new XMLHttpRequest;l.open("GET",e,!0),l.onload=function(){l.status>=200&&l.status<400?t(l.responseText):a(l.status)},l.onerror=function(){a(l.status)},l.send()}function getPlaylistVideos(e,t){load("https://crossorigin.me/https://www.youtube.com/playlist?list="+e,e=>{let a=e.match(/data-video-id=\"(.*?)\"/g),l=[];for(s in a)l.push(a[s].split('"')[1]);t(l)})}function getVideoInfo(e,t){load("https://noembed.com/embed?url=https://www.youtube.com/watch?v="+e,e=>{t(JSON.parse(e))})}function queryStringMap(e){var t={};return e.split("&").forEach(function(e){t[decodeURIComponent(e.substring(0,e.indexOf("=")))]=decodeURIComponent(e.substring(e.indexOf("=")+1))}),t}function listOfQueryStringMaps(e){var t=[];return e.split(",").forEach(function(e){t.push(queryStringMap(e))}),t}function getVideoSources(e,t,a=3){load("https://crossorigin.me/http://www.youtube.com/get_video_info?video_id="+e+"&el=vevo&el=embedded&asv=3&sts=15902",e=>{"string"==typeof(e=queryStringMap(e)).adaptive_fmts&&(e.adaptive_fmts=listOfQueryStringMaps(e.adaptive_fmts)),t(e.adaptive_fmts.reverse()[a].url)})}function dbGet(){return null===localStorage.getItem("player__database")&&dbSet({playlists:[],quality:15}),JSON.parse(localStorage.getItem("player__database"))}function dbSet(e){localStorage.setItem("player__database",JSON.stringify(e))}function dbAssing(e){let t=JSON.parse(localStorage.getItem("player__database")),a=Object.assign(t,e);localStorage.setItem("player__database",JSON.stringify(a))}function playerInit(e,t){player__song.innerHTML=t.title,t.title.length>30&&(player__song.className="song long"),player__author.innerHTML=t.author_name,t.author_name.length>37&&(player__author.className="author long"),player__cover.style.backgroundImage="url('"+t.thumbnail_url+"')",(player__audio=new Audio(e[0])).volume=.4,player__container.style.display="flex"}function addPlaylist(e,t){playlist__container.innerHTML+=playlist__template.children[1].outerHTML;let a=playlist__container.children[playlist__container.children.length-1];a.children[0].children[0].innerHTML=e+'<i class="fa fa-trash trash" aria-hidden="true" class="trash"></i>',a.children[0].children[1].innerHTML=t,Array.from(playlist__cards).forEach(e=>{e.addEventListener("wheel",e=>{e.currentTarget.scrollLeft-=e.wheelDelta/5,e.preventDefault()})})}function addCardPlaylist(e,t,a,l){e.innerHTML+=playlist__template.children[0].outerHTML;let n=e.children[e.children.length-1];n.children[1].children[0].innerHTML=t,n.children[1].children[1].innerHTML=a,n.children[0].style.backgroundImage="url("+l+")"}let qualities=["1080p/1920x1080,video/mp4","1080p/1920x1080,video/webm","720p/1280x720,video/mp4","720p/1280x720,video/webm","480p/854x480,video/mp4","480p/854x480,video/webm","360p/640x360,video/mp4","360p/640x360,video/webm","240p/426x240,video/mp4","240p/426x240,video/webm","144p/256x144,video/mp4","144p/256x144,video/webm","audio,audio/mp4","audio,audio/webm","audio,audio/webm","audio,audio/webm","audio,audio/webm"],player__playlist=[],player__container=document.getElementById("playerContainer"),player__song=document.getElementById("song"),player__author=document.getElementById("author"),player__cover=document.getElementById("cover"),player__backward=document.getElementById("backward"),player__play=document.getElementById("play"),player__forward=document.getElementById("forward"),player__current=document.getElementById("current"),player__volume=document.getElementById("volume"),player__volumeControl=document.getElementById("volumeControl"),player__vcParent=player__volumeControl.parentElement,player__mouseOnCurrent=!1,player__audio;player__play.onclick=(()=>{player__audio.paused?(player__audio.play(),player__play.children[0].setAttribute("class","fa fa-pause")):(player__audio.pause(),player__play.children[0].setAttribute("class","fa fa-play")),player__audio.ontimeupdate=(()=>{player__mouseOnCurrent||(player__current.value=player__audio.currentTime/player__audio.duration*100)})}),player__current.onmousedown=(()=>{player__mouseOnCurrent=!0}),player__current.onmouseup=(()=>{player__mouseOnCurrent=!1}),player__current.onchange=(()=>{player__audio.currentTime=player__current.value/100*player__audio.duration}),player__volume.onclick=(()=>{player__vcParent.style.animation="fadein .3s linear",player__vcParent.style.display="block"}),player__vcParent.onclick=(e=>{e.target.value!=player__volumeControl.value&&(player__vcParent.style.animation="fadeout .3s linear",setTimeout(()=>player__vcParent.style.display="none",250))}),player__volumeControl.onchange=(()=>{player__audio.volume=player__volumeControl.value/100});let playlist__cards=document.getElementsByClassName("cards"),playlist__template=document.getElementById("template"),playlist__container=document.getElementById("container"),playlist__add=document.getElementById("add");playlist__add.onclick=(()=>{if("flex"!==document.getElementById("addPlaylist").style.display){document.getElementById("addPlaylist").style.display="flex";for(i in document.getElementsByClassName("trash"))document.getElementsByClassName("trash")[i].style.display="block"}else{document.getElementById("addPlaylist").style.display="none";for(i in document.getElementsByClassName("trash"))document.getElementsByClassName("trash")[i].style.display="none"}window.scrollTo(0,0)});